webpackJsonp([5],{"4yN2":function(t,e){},If12:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=r("nvOP"),n=r("0C6y"),s=r("ID4T"),i=r("vKlO"),o=(r("Fyfu"),{name:"product",data:function(){return{currentPage:1,isContent:!1,prolist:[],page:1,per_page:2,page2_total:null,currentSortKey:0,currentSortValue:0,currentKeyword:0,navTitle:"",navStyle:"",flag:!1}},components:{Headers:n.a,Footers:s.a,Menus:a.a,SideNav:i.a},methods:{sortDefault:function(){this.flag=!0,0==this.currentSortKey&&0==this.currentSortValue||(this.currentSortKey=0,this.currentSortValue=0,this.getProList(this.flag))},sortSale:function(){this.flag=!0,4==this.currentSortKey&&2==this.currentSortValue||(this.currentSortKey=4,this.currentSortValue=2,this.getProList(this.flag))},sortDate:function(){this.flag=!0,5==this.currentSortKey&&2==this.currentSortValue||(this.currentSortKey=5,this.currentSortValue=2,this.getProList(this.flag))},sortPrice:function(){var t=1,e=2;this.flag=!0,1==this.currentSortKey?0==this.currentSortValue||1==this.currentSortValue?(t=1,e=2):(t=1,e=1):(t=1,e=2),t==this.currentSortKey&&e==this.currentSortValue||(this.currentSortKey=t,this.currentSortValue=e,this.getProList(this.flag))},sortCredit:function(){this.flag=!0,3==this.currentSortKey&&2==this.currentSortValue||(this.currentSortKey=3,this.currentSortValue=2,this.getProList(this.flag))},getProList:function(t){var e=this;if(this.$route.query.type)this.$API.ProductTypeList({type:this.$route.query.type}).then(function(t){if(0==t.data.error_code){if(0==t.data.products.length)return e.isContent=!0,!1;e.isContent=!1,e.page2_total=t.data.paged.total,e.prolist=t.data.products}});else{t||(this.currentSortKey=this.$route.query.sortKey?this.$route.query.sortKey:0,this.currentSortValue=this.$route.query.sortValue?this.$route.query.sortValue:0),this.currentKeyword=this.$route.query.keyword?this.$route.query.keyword:0,this.navTitle=this.$route.query.navTitle,this.navStyle=this.$route.query.navStyle?this.$route.query.navStyle:"default";var r=this.$route.query.category,a={};r&&(a.category=r),this.currentKeyword&&(a.keyword=this.currentKeyword),a.sort_key=this.currentSortKey,a.sort_value=this.currentSortValue,a.page=this.page,a.per_page=this.per_page,this.$API.ProductList(a).then(function(t){if(0==t.data.error_code){if(0==t.data.products.length)return e.isContent=!0,!1;e.isContent=!1,e.page2_total=t.data.paged.total,e.prolist=t.data.products}})}},handleCurrentChange:function(t){this.page=t,this.getProList()}},watch:{$route:function(t,e){(t.query.category&&e.query.category&&t.query.category!=e.query.category||this.$route.query.type)&&(this.page=1,this.prolist=[],this.getProList())}},mounted:function(){this.getProList()}}),u={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("headers"),t._v(" "),r("menus"),t._v(" "),r("div",{staticClass:"w1210"},[r("div",{staticClass:"product"},[r("div",{staticClass:"filter_wrap clearfix"},[r("div",{staticClass:"filter fl"},[r("a",{class:{active:0==t.currentSortKey},on:{click:function(e){t.sortDefault()}}},[t._v("综合排序")]),t._v(" "),r("a",{class:{active:4==t.currentSortKey},on:{click:function(e){t.sortSale()}}},[t._v("销量")]),t._v(" "),r("a",{class:{active:5==t.currentSortKey},on:{click:function(e){t.sortDate()}}},[t._v("新品")]),t._v(" "),r("a",{class:{active:1==t.currentSortKey},on:{click:function(e){t.sortPrice()}}},[t._v("价格\n\t\t\t\t\t\t"),r("i",{staticClass:"iconfont",class:{"icon-jiantouxiajiang":1==t.currentSortKey&&(0==t.currentSortValue||1==t.currentSortValue)}}),t._v(" "),r("i",{staticClass:"iconfont",class:{"icon-jiantoushangsheng":1==t.currentSortKey&&2==t.currentSortValue}})]),t._v(" "),r("a",{class:{active:3==t.currentSortKey},on:{click:function(e){t.sortCredit()}}},[t._v("信用")])])]),t._v(" "),t.prolist&&t.prolist.length>0?r("div",{staticClass:"product_list clearfix"},t._l(t.prolist,function(e){return r("div",{key:e.id,staticClass:"item"},[r("a",{attrs:{href:"#/details/"+e.id,target:"_blank"}},[r("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.default_photo.thumb,expression:"item.default_photo.thumb"}]}),t._v(" "),r("p",{staticClass:"price"},[t._v("￥"+t._s(t._f("fmoney")(e.current_price)))]),t._v(" "),r("p",{staticClass:"name"},[t._v(t._s(e.name))])]),t._v(" "),t._m(0,!0)])})):t._e(),t._v(" "),t.isContent?t._e():r("div",{staticClass:"page2"},[r("el-pagination",{attrs:{"current-page":t.page,"page-size":t.per_page,background:"",layout:"prev, pager, next",total:t.page2_total},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.page=e}}})],1),t._v(" "),t.isContent?r("div",{staticClass:"not-content"},[t._v("没有相关产品")]):t._e()])]),t._v(" "),r("footers"),t._v(" "),r("side-nav")],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"go_cart",attrs:{href:""}},[e("i",{staticClass:"iconfont icon-cart"}),this._v("加入购物车")])}]};var c=r("Z0/y")(o,u,!1,function(t){r("oTx/"),r("Xv7y")},"data-v-f6a23ff2",null);e.default=c.exports},KHq0:function(t,e){},Xv7y:function(t,e){},nvOP:function(t,e,r){"use strict";var a={data:function(){return{activeIndex:"0",menus:[],cateList:[]}},created:function(){this.getMenus(),this.getCateList()},methods:{getPositionTop:function(t){for(var e in this.$refs.subCate){document.body.scrollTop||document.documentElement.scrollTop;this.$refs.subCate[e].style.top=t.currentTarget.getBoundingClientRect().top-197+document.documentElement.scrollTop+"px"}},getMenus:function(){var t=this;this.$API.Menus().then(function(e){0==e.data.error_code&&(t.menus=e.data.list)})},getCateList:function(){var t=this;this.$API.Cate({page:1,per_page:1e3}).then(function(e){0==e.data.error_code&&(t.cateList=e.data.categories.slice(0,8))})},toProduct:function(t){var e=this.$router.resolve({path:"product",query:{sortKey:0,sortValue:0,keyword:null,category:t.id,title:t.name,navTitle:t.name,navStyle:"default"}});window.open(e.href,"_blank")},handleSelect:function(t,e){console.log(t,e)}}},n={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("nav",{staticClass:"menu"},[r("div",{staticClass:"w1210"},[r("div",{staticClass:"classify"},[r("label",[t._v("全部分类")]),t._v(" "),r("ul",{staticClass:"sub_menu"},t._l(t.cateList,function(e){return r("li",{key:e.id,on:{mouseover:function(e){t.getPositionTop(e)}}},[r("h3",[r("a",{attrs:{target:"_blank"},on:{click:function(r){t.toProduct(e)}}},[t._v(t._s(e.name))])]),t._v(" "),r("p",t._l(e.categories,function(e){return r("a",{key:e.id,attrs:{target:"_blank"},on:{click:function(r){t.toProduct(e)}}},[t._v(t._s(e.name))])})),t._v(" "),r("div",{ref:"subCate",refInFor:!0,staticClass:"sub_cate"},t._l(e.categories,function(e){return r("dl",{key:e.id,staticClass:"fl"},[r("dt",[r("a",{attrs:{target:"_blank"},on:{click:function(r){t.toProduct(e)}}},[t._v(t._s(e.name))])]),t._v(" "),0==e.categories.length?r("dd",[r("a",{attrs:{href:"javascript:;"}})]):t._l(e.categories,function(e){return r("dd",{key:e.id},[r("a",{attrs:{target:"_blank"},on:{click:function(r){t.toProduct(e)}}},[t._v(t._s(e.name))])])})],2)}))])}))]),t._v(" "),r("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":t.activeIndex,mode:"horizontal"},on:{select:t.handleSelect}},[r("el-menu-item",{attrs:{index:"0"}},[r("a",{attrs:{href:"/",target:"_blank"}},[t._v("首页")])]),t._v(" "),t._l(t.menus,function(e){return r("el-menu-item",{key:e.id,attrs:{index:"{item.id}"}},[0==e.opennew?r("a",{attrs:{href:"#/"+e.url}},[t._v(t._s(e.name))]):t._e(),t._v(" "),1==e.opennew?r("a",{attrs:{href:"#/"+e.url,target:"_blank"}},[t._v(t._s(e.name))]):t._e()])})],2)],1)])},staticRenderFns:[]};var s=r("Z0/y")(a,n,!1,function(t){r("4yN2"),r("KHq0")},"data-v-9f71fca4",null);e.a=s.exports},"oTx/":function(t,e){}});